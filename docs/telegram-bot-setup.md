# Настройка Telegram Bot для WebApp

## Шаг 1: Создание нового бота через @BotFather

1. В Telegram откройте диалог с [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Укажите имя для вашего бота, например "Интерактивные линии Перми"
4. Укажите username для бота (должен заканчиваться на "bot"), например "perm_lines_bot"
5. Сохраните полученный токен бота (вам понадобится он для дальнейшей разработки)

## Шаг 2: Настройка WebApp для бота

1. В чате с @BotFather отправьте команду `/mybots`
2. Выберите созданного бота из списка
3. Нажмите "Bot Settings" → "Menu Button" → "Configure menu button"
4. Введите текст кнопки, например "Открыть линии Перми"
5. В качестве URL укажите адрес GitHub Pages: `https://thafizov.github.io/perm_lines`
6. Нажмите "Save"

## Шаг 3: Добавление команд в бота (опционально)

1. В чате с @BotFather отправьте команду `/mybots`
2. Выберите вашего бота
3. Нажмите "Edit Bot" → "Edit Commands"
4. Добавьте команды в формате `команда - описание`, например:
   ```
   start - Запустить бота и получить приветствие
   about - О проекте
   open - Открыть приложение с линиями Перми
   ```

## Шаг 4: Настройка изображений бота (опционально)

1. В чате с @BotFather отправьте команду `/mybots`
2. Выберите вашего бота
3. Нажмите "Edit Bot" → "Edit Botpic"
4. Отправьте изображение, которое будет использоваться как аватар бота

## Проверка работы WebApp

1. Откройте диалог с вашим ботом в Telegram
2. Нажмите на кнопку меню внизу экрана (должна отображаться ваша кнопка "Открыть линии Перми")
3. Должно открыться ваше WebApp-приложение

## Дополнительно: Кнопка для открытия WebApp из сообщения

```javascript
// Пример клавиатуры с кнопкой WebApp для бота
const keyboard = {
  inline_keyboard: [
    [
      {
        text: "Открыть карту Перми",
        web_app: {
          url: "https://thafizov.github.io/perm_lines"
        }
      }
    ]
  ]
};

// Отправка этой клавиатуры в сообщении
bot.sendMessage(chatId, "Нажмите на кнопку ниже, чтобы открыть интерактивные линии Перми:", {
  reply_markup: keyboard
});
``` 